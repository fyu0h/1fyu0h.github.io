<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>‘s Memory1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="‘s Memory1">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="‘s Memory1">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="‘s Memory1">
  
    <link rel="alternate" href="/atom.xml" title="‘s Memory1" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">‘s Memory1</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Invalid da_-e4-b8-80-e4-b8-aa-e9-95-bf-e6-95-85-e4-ba-8b" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/04/03/Invalid da_-e4-b8-80-e4-b8-aa-e9-95-bf-e6-95-85-e4-ba-8b/" class="article-date">
  <time datetime="2018-04-02T20:36:21.396Z" itemprop="datePublished">2018-04-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/04/03/Invalid da_-e4-b8-80-e4-b8-aa-e9-95-bf-e6-95-85-e4-ba-8b/">念七年</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我弄丢了七年。</p>
<p>是的，就在今天我弄丢了我的七年。我清楚的知道现在所发生的一切都是我犯下的错误所导致的，我清楚的知道原因，但是我没有勇气去改正。我只能安慰自己，其实七年时光对于我而言并没有那么重要，就让它随着我的青年年华一起消逝在过去。</p>
<p>自欺欺人？这是我正在做的事情。我在不经意间做的一个动作，说的一句话，用的一个词，都在提醒着我这七年对我的影响是多么的深远，这七年是我生命中永远无法抹去的烙印，这七年让我之所以是我。</p>
<p>或许</p>
<p>七年并没有丢</p>
<p>只是被我毁掉了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/04/03/Invalid da_-e4-b8-80-e4-b8-aa-e9-95-bf-e6-95-85-e4-ba-8b/" data-id="cjfipiyz2000kd4unk76ftj1c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-05-21_usable-ml" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/21/2017-05-21_usable-ml/" class="article-date">
  <time datetime="2017-05-21T07:39:52.000Z" itemprop="datePublished">2017-05-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/21/2017-05-21_usable-ml/">免流可用记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>更新时间：2017-5-21 23:15:36</p>
<p>####江西移动<br>概况：http部分可全免，https由于host和谐故而无解</p>
<hr>
<p>==√Tiny==</p>
<pre><code>#10.1-10.9内网可免http
mode=wap;
listen_port=65080;
daemon=on;
worker_proc=0;
#user=root;
uid=3004;
#HTTP
http_ip=10.0.0.172;
http_port=80;
http_del=&quot;Host,X-Online-Host&quot;;
http_first=&quot;[M] [U] [V]\n[M] @migumovie.lovev.com[U] [V]\r\nHost: migumovie.lovev.com:@[H]\r\nX-    Online-Host: migumovie.lovev.com\r\n&quot;;

#https不免，只联网
https_connect=off;
https_ip=10.0.0.172;
https_port=80;
https_del=&quot;Host&quot;;
https_first=&quot;[M] [H] [V]\r\n&quot;;

#DNS
dns_tcp=http;
dns_listen_port=65053;
dns_url=&quot;119.29.29.29&quot;;
</code></pre><p><del>ShadowsocksR</del><br><del>OpenVPN</del></p>
<hr>
<p>####江西联通<br>==√Tiny==</p>
<pre><code>#3G网络下调内网10.45
mode=wap;
listen_port=65080;
daemon=on;
worker_proc=0;
uid=3004;

#HTTP模块
http_ip=10.0.0.172;
http_port=80;
http_del=&quot;Host,X-Online-Host&quot;;
http_first=&quot;[M] [U] [V]\r\n南联\rHost : [H]\nHost: imusic.wo.com.cn\r\nX-Online-Host:     imusic.wo.com.cn\r\n&quot;;

#HTTPS模块
https_connect=on;
https_ip=10.0.0.172;
https_port=80;
https_del=&quot;Host,host&quot;;
https_first=&quot;CONNECT m.iread.wo.com.cn connect://[H] [V]\r\nx-online-host:     m.iread.wo.com.cn\r\nHost:\r\n&quot;;

#DNS
dns_tcp=http;
dns_listen_port=65053;
dns_url=&quot;119.29.29.29&quot;;
</code></pre><p><del>ShadowsocksR</del><br><del>OpenVPN</del></p>
<hr>
<p>####江西电信</p>
<p>==√Tiny==</p>
<pre><code>mode=wap;
listen_port=65080;
daemon=on;
worker_proc=0;
uid=3004;

#http模块不完美，例如网易云无网，网站无法登陆
http_ip=10.0.0.200;
http_port=80; 
http_del=&quot;Host,X-Online-Host&quot;;
http_first=&quot;[M] http://ltetp.tv189.com[U] [V]\r\n\rX-Online-Host: [H]\r\n&quot;;

#HTTPS
https_connect=on;
https_ip=10.0.0.200;
https_port=80;
https_del=&quot;Host,X-Online-Host&quot;;
https_first=&quot;CONNECT [H]/ltetp.tv189.com/ [V]\r\n\rX-Online-Host: [H]\r\n&quot;;

dns_tcp=http;
dns_listen_port=65053;
dns_url=&quot;114.114.114.114&quot;;
</code></pre><p>==√ShadowsocksR==</p>
<p>端口:不限</p>
<p>混淆方式:http_simple</p>
<p>混淆:tp.nty.tv189.com（或其他可用host）</p>
<p><del>OpenVPN</del></p>
<hr>
<p>####Gost分享</p>
<p>IP:ct.iinin.me</p>
<p>端口:6688</p>
<p>密码:supppig</p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/05/21/2017-05-21_usable-ml/" data-id="cjfipiyz1000jd4ung1uxqq25" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-04-17_wordpress-to-ghost" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/17/2017-04-17_wordpress-to-ghost/" class="article-date">
  <time datetime="2017-04-16T17:28:45.000Z" itemprop="datePublished">2017-04-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/17/2017-04-17_wordpress-to-ghost/">WordPress迁移至Ghost笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>　　由于最近购买了一台512M的OVZ主机，为了能在OVZ上使用BBR无奈只能选择通过嵌套虚拟机，但UML太吃内存了小鸡完全受不了，故而萌发了更换一个更为轻量博客系统的想法，最后确定选择Ghost。</p>
<p>####Ghost安装<br>　　使用了<a href="https://github.com/hwdsl2/setup-ghost-blog" title="链接" target="_blank" rel="noopener">一键脚本</a></p>
<p>选择 ModSecurity 防火墙：</p>
<pre><code>wget https://git.io/ghost-nginx-modsecurity -O ghost-setup.sh
sudo bash ghost-setup.sh BLOG_FULL_DOMAIN_NAME
</code></pre><p>选择 Naxsi 防火墙：</p>
<pre><code>wget https://git.io/ghost-nginx-naxsi -O ghost-setup.sh
sudo bash ghost-setup.sh BLOG_FULL_DOMAIN_NAME
</code></pre><p>注： 请把上面的参数替换为你的博客的完整域名。将会安装最新的 <a href="https://dev.ghost.org/tag/releases/" target="_blank" rel="noopener">0.11.x (LTS)</a> 版本的 Ghost 博客。</p>
<p>####数据备份与迁移<br>　　在原WordPress上安装<a href="https://wordpress.org/plugins/ghost/" target="_blank" rel="noopener">Explor to Ghost</a>插件即可导出文章数据，但是在使用过程中发现直接导入此插件备份的数据会出现文章标题没问题，但是内容乱码的情况。我的解决办法是利用Wordpress的导出插件将文章内容下载到本地后直接从xml文件中复制即可，文章格式不会有任何问题。文章图片我是储存在七牛上，而文章评论……我博客没有评论而且Ghost默认也没有评论功能，所以以上两者无需迁移。</p>
<p>####SSL配置<br>　　本站使用的是免费的Letsencrypt</p>
<p>1、安装 cerbot:</p>
<pre><code>git clone https://github.com/letsencrypt/letsencrypt
cd letsencrypt
</code></pre><p>2、运行:</p>
<pre><code>// 根据自己的需求调整代码 ./certbot-auto certonly --standalone --email admin@iinin.me -d iinin.me -d www.iinin.me 
</code></pre><p>成功提示:</p>
<pre><code>IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at
 /etc/letsencrypt/live/example.com/fullchain.pem. Your cert will
 expire on 2016-09-04. To obtain a new or tweaked version of this
 certificate in the future, simply run certbot-auto again. To
 non-interactively renew *all* of your certificates, run
 &quot;certbot-auto renew&quot;
 - If you like Certbot, please consider supporting our work by:

 Donating to ISRG / Let&apos;s Encrypt: https://letsencrypt.org/donate
 Donating to EFF: https://eff.org/donate-le
</code></pre><p>3、配置Nginx:</p>
<pre><code>server {
listen 443 ssl;
server_name www.example.com;
ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;
......
</code></pre><p>重新配置Ghost</p>
<p>前往Ghost安装目录中修改config.js， 修改为</p>
<pre><code>production: {
    url: &apos;https://www.example.com&apos;,
......
</code></pre><p>这样所有的链接都生效了。而且 Ghost 会帮你重定向 http 到 https。<br>至此</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/17/2017-04-17_wordpress-to-ghost/" data-id="cjfipiyz3000ld4unhekzecuv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-04-16_kms-service" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/16/2017-04-16_kms-service/" class="article-date">
  <time datetime="2017-04-16T08:46:01.000Z" itemprop="datePublished">2017-04-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/16/2017-04-16_kms-service/">KMS服务~一句命令激活windows/office</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>服务器地址：iinin.me</strong></p>
<p><strong>Winodws激活:</strong></p>
<p>1.以管理员方式运行CMD</p>
<p>2.依次输入下列命令:</p>
<p><pre class="pure-highlightjs"><strong><code class="">slmgr /skms iinin.me<br>slmgr /ato<br></code></strong></pre><br><strong>Office激活</strong>请看下文中详细教程</p>
        
          <p class="article-more-link">
            <a href="/2017/04/16/2017-04-16_kms-service/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/16/2017-04-16_kms-service/" data-id="cjfipiyyt000hd4un0z48ziur" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-04-16_operation-not-permitted" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/16/2017-04-16_operation-not-permitted/" class="article-date">
  <time datetime="2017-04-16T08:15:38.000Z" itemprop="datePublished">2017-04-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/16/2017-04-16_operation-not-permitted/">Root用户删除文件提示：Operation not permitted</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前段时间安装Wordpress过程中使用lnmp vhost生成了多个站点目录，今天看到这些多余目录时候想删除，但是使用Root用户进行删除操作之时系统却提示没有权限，点解？</p>
<pre><code>[root@li1594-180 www]# rm -r -I /www
rm: remove 1 argument recursively? y
rm: cannot remove ‘/www/.user.ini’: Operation not permitted
</code></pre><p>首先我们查看目录下的文件，</p>
<pre class="pure-highlightjs"><code class="">[root@li1594-180 www]# lsattr -a
----i--------e-- ./.user.ini
-------------e-- ./.
-------------e-- ./..
</code></pre>
发现.user.ini带有i属性，这便是无法删除目录的原因所在了，只需要执行如下命令即可删除
<pre class="pure-highlightjs"><code class="">[root@li1594-180 www]# chattr -i /www/.user.ini
</code></pre>
---相关---

<strong>chattr命令</strong>：有时候你发现用root权限都不能修改某个文件，大部分原因是曾经用chattr命令锁定该文件了。chattr命令的作用很大，通过chattr命令修改属性能够提高系统的安全性，但是它并不适合所有的目录。chattr命令不能保护/、/dev、/tmp、/var目录。lsattr命令是显示chattr命令设置的文件属性。
<pre class="pure-highlightjs"><code class="">语法 chattr [-RV] [-+=AacDdijsSu] [-v version] 文件或目录
参数 描述
－R 递归处理所有的文件及子目录。
－V 详细显示修改内容，并打印输出。
– 失效属性。
+ 激活属性。
= 指定属性。
A Atime，告诉系统不要修改对这个文件的最后访问时间。
S Sync，一旦应用程序对这个文件执行了写操作，使系统立刻把修改的结果写到磁盘。
a Append Only，系统只允许在这个文件之后追加数据，不允许任何进程覆盖或截断这个文件。如果目录具有这个属性，系统将只允许在这个目录下建立和修改文件，而不允许删除任何文件。
i Immutable，系统不允许对这个文件进行任何的修改。如果目录具有这个属性，那么任何的进程只能修改目录之下的文件，不允许建立和删除文件。
D 检查压缩文件中的错误。
d No dump，在进行文件系统备份时，dump程序将忽略这个文件。
C Compress，系统以透明的方式压缩这个文件。从这个文件读取时，返回的是解压之后的数据；而向这个文件中写入数据时，数据首先被压缩之后才写入磁盘。
s Secure Delete，让系统在删除这个文件时，使用0填充文件所在的区域。
u Undelete，当一个应用程序请求删除这个文件，系统会保留其数据块以便以后能够恢复删除这个文件。
</code></pre>
---例子---
<pre class="pure-highlightjs"><code class="">用chattr命令防止系统中某个关键文件被修改：
# chattr +i /etc/resolv.conf

用lsattr查询文件属性：
# lsattr /etc/resolv.conf
----i-------- /etc/resolv.conf #显示如上

让某个文件只能往里面追加数据，但不能删除，适用于各种日志文件：
# chattr +a /var/log/messages</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/16/2017-04-16_operation-not-permitted/" data-id="cjfipiyyt000id4unnmrpur5u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-01-09_jiiangxi-priority" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/09/2017-01-09_jiiangxi-priority/" class="article-date">
  <time datetime="2017-01-09T06:15:53.000Z" itemprop="datePublished">2017-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/09/2017-01-09_jiiangxi-priority/">江西地区运营商计费系统检测优先级</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2017-1-20 11:05:39</p>
<p>江西移动</p>
<p>HTTP<br>M&gt;H&gt;XH</p>
<p>HTTPS<br>H&gt;M&gt;XH</p>
<p>江西电信</p>
<p>HTTP检测机制<br>XH&gt;首头&gt;H</p>
<p>HTTPS检测机制<br>H&gt;首头&gt;XH</p>
<p>江西联通</p>
<p>HTTP<br>M&gt;H,XH不检测</p>
<p>HTTPS<br>M&gt;H&gt;XH</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/01/09/2017-01-09_jiiangxi-priority/" data-id="cjfipiyys000fd4unb2iu2f29" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-01-05_wordpress-ssl" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/05/2017-01-05_wordpress-ssl/" class="article-date">
  <time datetime="2017-01-05T05:39:07.000Z" itemprop="datePublished">2017-01-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/05/2017-01-05_wordpress-ssl/">WordPress搬家+配置SSL笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前一直放在阿里云的虚拟主机，最近想给博客弄个HTTPS，由于虚拟主机不支持配置SSL，所以只能选择搬到Linode的日本服务器，使用Centos 7 x64系统。</p>
<p>一、环境安装</p>
<p>1.Lnmp环境安装</p>
<p>我使用的是lnmp.org的一键安装脚本</p>
<pre><code>yum install screen
screen -S lnmp
wget -c http://soft.vpser.net/lnmp/lnmp1.3.tar.gz &amp;&amp; tar zxf lnmp1.3.tar.gz &amp;&amp; cd lnmp1.3 &amp;&amp; ./install.sh lnmp 
</code></pre><p>2.配置虚拟主机系统</p>
<p><code>lnmp vhost add</code></p>
<p>按照提示安装<br>二、WordPress安装及问题解决</p>
<p>1.安装WordPress</p>
<pre><code>cd /home/wwwroot
wget https://cn.wordpress.org/wordpress-4.7-zh_CN.tar.gz
tar xvzf wordpress-4.7-zh_CN.tar.gz
</code></pre><p>使用浏览器打开站点按照提示安装即可</p>
<p>2.问题解决</p>
<p>导入老站数据的时候需要安装个插件，然后就提示WordPress安装插件提示输入FTP账户信息，这个问题很好解决。（来源）</p>
<p>如果你使用的是独立服务器或VPS，WordPress的安装目录为</p>
<p><code>/home/wwwroot/wordpress</code><br>先修改网站所在目录权限</p>
<pre><code>chmod -R 755 /home/wwwroot/wordpress
chown -R www /home/wwwroot/wordpress
</code></pre><p>如果你使用的是虚拟主机，可以在wp-config.php里加入下面代码</p>
<pre><code>define(&quot;FS_METHOD&quot;, &quot;direct&quot;);
define(&quot;FS_CHMOD_DIR&quot;, 0777);
define(&quot;FS_CHMOD_FILE&quot;, 0777);
</code></pre><p>OK,WP安装插件提示输入FTP账户信息已经解决了。</p>
<p>3.导入数据</p>
<p>在原站点WP后台使用工具-导出xml文件，再到新站点后台使用WordPress自带的工具-导入之前的xml文件，并勾“下载并导入文件附件”即可，只要你原站点还在正常运行的话，WordPress会自动从原站点下载附件。来源</p>
<p>三、配置SSL</p>
<p>1、安装 cerbot:</p>
<pre><code>git clone https://github.com/letsencrypt/letsencrypt
cd letsencrypt
</code></pre><p>2、运行:</p>
<p>// 根据自己的需求调整代码<br>./certbot-auto certonly –standalone –email <a href="mailto:admin@iinin.cc" target="_blank" rel="noopener">admin@iinin.cc</a> -d iinin.cc -d <a href="http://www.iinin.cc" target="_blank" rel="noopener">www.iinin.cc</a> -d other.iinin.cc<br>成功提示:</p>
<pre><code>IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at
 /etc/letsencrypt/live/example.com/fullchain.pem. Your cert will
 expire on 2016-09-04. To obtain a new or tweaked version of this
 certificate in the future, simply run certbot-auto again. To
 non-interactively renew *all* of your certificates, run
 &quot;certbot-auto renew&quot;
 - If you like Certbot, please consider supporting our work by:

 Donating to ISRG / Let&apos;s Encrypt: https://letsencrypt.org/donate
 Donating to EFF: https://eff.org/donate-le
</code></pre><p>3、配置Nginx:</p>
<pre><code>server
{
 listen 443 ssl; /
 server_name bigback.me; //这里是你的域名
 index index.html index.htm index.php default.html default.htm default.php;
 root /home/wwwroot/wordpress //网站目录
 ssl_certificate /etc/letsencrypt/live/bigback.me/fullchain.pem; //前面生成的证书，改一下里面的域名就行，不建议更换路径
 ssl_certificate_key /etc/letsencrypt/live/bigback.me/privkey.pem; //前面生成的密钥，改一下里面的域名就行，不建议更换路径 
 ........
}
</code></pre><p>重启Nginx：</p>
<p><code>sudo service nginx restart</code></p>
<p>至此，搬家+配置SSL已经完成了~</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/01/05/2017-01-05_wordpress-ssl/" data-id="cjfipiyyr000ed4undojlas9p" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-01-03_compare-xproxy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/03/2017-01-03_compare-xproxy/" class="article-date">
  <time datetime="2017-01-03T11:23:24.000Z" itemprop="datePublished">2017-01-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/03/2017-01-03_compare-xproxy/">zProxy TinyProxy rProxy搭建及对比</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>安装运行<br>安装环境:Centos 6.x  x64</p>
<p>##rProxy<br><a href="http://7u2oxr.com1.z0.glb.clouddn.com/RP0.24.zip" target="_blank" rel="noopener">rProxy下载</a></p>
<p>解压后将RProxy-Admin、RProxy这两个复制到usr/etc，其余文件复制root并赋予777权限</p>
<p>安装nodejs并启动rProxy</p>
<pre><code>yum install nodejs
sh start.sh
</code></pre><p>rProxy的Tiny配置:</p>
<pre><code>#保持默认
mode=wap;
listen_port=65080;
daemon=on;
worker_proc=0;
uid=3004;
dns_tcp=http; 
dns_listen_port=65053; 
dns_url=&quot;119.29.29.29&quot;; 
http_port=80; 
http_del=&quot;Host,X-Online-Host&quot;; 
https_connect=on; 
https_port=80;
https_del=&quot;Host,X-Online-Host&quot;; 

#以下需自定义
https_ip=此处填写IP; 
http_ip=此处填写IP; 
http_first=&quot;[method] http://伪装Host [uri] HTTP/1.1\r\nHost: 伪装Host \r\nX-Online-Host: 伪装Host \r\nRProxy-&gt;验证头-&gt;     [host]\r\n&quot;;
#https_first=&quot;GET http://伪装Host /-&gt;RProxy HTTP/1.1\r\nHost: 伪装Host \r\nX-Online-Host: 伪装Host \r\nRProxy-&gt;验证头-&gt;                 [host]\r\n&quot;;
https_first=&quot;CONNECT 伪装Host [version]\r\nHost: 伪装Host \r\nProxy-&gt;验证头-&gt; [host]\r\n&quot;;
</code></pre><p>##zProxy</p>
<p>安装&amp;启动（亦可后台运行，无需nohup）</p>
<pre><code>wget --no-check-certificate http://www.bigback.me/download/zproxy -O zproxy
python zproxy 80&amp;   
</code></pre><p>其中80是自定义的端口号 可改 但一般非80端口不免</p>
<p>启动后测试能否正常输出连接信息 然后就可以关闭终端窗口了</p>
<p>停止命令：</p>
<p><code>ps -ef | grep zproxy | grep -v grep | cut -c 9-15 | xargs kill -s 9</code></p>
<p>查询状态：</p>
<p><code>ps -ef|grep python</code></p>
<p>如果不能联网 尝试关闭防火墙</p>
<pre><code>service iptables stop
chkconfig iptables off
</code></pre><p>zProxy的Tiny配置：</p>
<pre><code>mode=wap;
listen_port=65080;
daemon=on;
worker_proc=0;
uid=3004;
#代理ip和端口 填云免服务器的
http_ip=服务器IP;
http_port=80;
https_connect=on;
https_ip=服务器IP;
https_port=80;
dns_tcp=http;
dns_listen_port=65053;
dns_url=&quot;119.29.29.29&quot;;
http_del=&quot;Host,X-Online-Host&quot;;
https_del=&quot;Host,X-Online-Host&quot;;

#以下模式关键部分 ZProxy云免才能联网
http_first=&quot;[method] http://ltetp.tv189.com[uri] [version]\r\nHost: ltetp.tv189.com\r\nzyx~ [host]\r\n&quot;;
https_first=&quot;CONNECT ltetp.tv189.com [version]\r\nHost: ltetp.tv189.com\r\nzyx~ [host]\r\n&quot;;
#以上ltetp.189.com都要改成免流host
</code></pre><p>##TinyProxy</p>
<p>安装&amp;运行:</p>
<p><code>wget http://bigback.me/download/tpp.sh&amp;&amp;bash tpp.sh</code></p>
<p>停止&amp;查询命令：</p>
<pre><code>killall tinyproxy
netstat -antp
</code></pre><p>##对比<br>测试条件</p>
<p>运营商及归属地：江西南昌电信<br>手机型号：三星 S7 SM-G9300<br>系统版本:6.0.1<br>接入点设置:CTWAP 127.0.0.1 65080<br>防跳:DL<br>由于江西电信HTTPS部分比较完美，所以HTTPS模块未使用上述代理，所有测试结果均基于HTTP模块得出。</p>
<p>一、跳点</p>
<p>三者跳点相差无几。</p>
<p>二、软件联网情况</p>
<p>zProxy：微信公众号及朋友圈无网</p>
<p>pProxy：微信公众号及朋友圈无网</p>
<p>TinyProxy:微信朋友圈无网、QQ群共享文件无法下载</p>
<p>三、网速及延迟</p>
<p>三者无明显差别。</p>
<p>四、稳定性</p>
<p>TinyProxy出现过崩溃情况，重启后恢复。</p>
<p>综上所述，TinyProxy相对表现较好，故推荐使用TinyProxy</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/01/03/2017-01-03_compare-xproxy/" data-id="cjfipiyyp000cd4unqhady56p" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-01-03_jx-cm" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/03/2017-01-03_jx-cm/" class="article-date">
  <time datetime="2017-01-03T10:39:04.000Z" itemprop="datePublished">2017-01-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/03/2017-01-03_jx-cm/">江西移动现状分析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>江西移动于2016年年末对计费系统进行了改造升级，首先是针对10.xx内网段进行升级导致所有老套路干扰失效，随后对100.xx段也进行了升级，至此江西南昌地区移动免流基本和谐。</p>
<p>优先级（检测时间2017/1/1）:</p>
<p>HTTP部分</p>
<p>M&gt;H&gt;XH<br>检测XH<br>空首H有网<br>HTTPS</p>
<p>H&gt;XH&gt;M<br>不检测XH<br>空首H无网<br>干扰：</p>
<p>真H前加文字、符号无网<br>\n 被检测跳转<br>\t 空格无效<br>\r似乎无效</p>
<p>现状分析及对策：</p>
<p>那么来看看最近半和谐（部分地区能用）的模式:</p>
<p><code>[M] [U] [V]\r\nHost:\r wap.10086.cn\r\nHost: [H]\r\n</code></p>
<p>很精妙的双H,虽然放在以前是肯定不能用的，达不到伪装的目的，但随着加大对\r的和谐力度，这反倒成了能够利用起来的伪装，运营商绕过\r检测到后面的免流Host,误认为第一个Host为真，而网关则不能够以第一个Host联网，所以自然就达到了免流的目的。</p>
<p>但这模式和谐也很容易，再往下抓取Host，真实H就随之被扫出来，所谓道高一尺魔高一丈，上有政策下有对策，我们当然不能放任运营商作威作福，所以还可以在此基础上进行改动，如下:</p>
<p>改法一:</p>
<p><code>[M] [U] [V]\r\nHos:\n wap.10086.cn\r\nHost: [H]\r\n</code></p>
<p>改法二:</p>
<p><code>[M] [U] [V]\r\nHost:\r wap.10086.cn \rHost:\n wap.10086.cn\r\nHost: [H]\r\n</code></p>
<p>在原来的基础上再添加一个Host，效果不言而喻</p>
<p>改法三:</p>
<p><code>[M] [U] [V]\r\nHost:\r wap.10086.cn \rHost:\n wap.10086.cn\rHost: [H]\r\nHost: wap.10086.cn\r\n</code></p>
<p>进一步加强伪装，不过这时候就要考虑联网问题了，伪装增多的同时也会影响网关的判断</p>
<p>还有更多的改法，核心不变……</p>
<p>其实看到这个双H我们不难想到以前一个模式:</p>
<p>②<code>[M] [U] [V]\rHost: [H]\r\nHost: wap.10086.cn\r\n</code></p>
<p><code>[M] [U] [V]\rHost: [H]\r\nHost: wap.10086.cn\r\n</code></p>
<p>这同样是当初很经典的模式，相信很多人都想复活，只是为什么会和谐呢？不妨来看看我在半和谐时期做的改动:</p>
<p>改动一:</p>
<p><code>[M] [U] [V]\r\r \rHost: [H]\r\nHost: wap.10086.cn\r\n</code></p>
<p><code>[M] [U] [V]\r\r \rHost: [H]\r\nHost: wap.10086.cn\r\n</code></p>
<p>改动二:</p>
<p><code>[M] [U] [V]\r万象\rHost: [H]\r\nHost: wap.10086.cn\r\n</code></p>
<p><code>[M] [U] [V]\r万象\rHost: [H]\r\nHost: wap.10086.cn\r\n</code></p>
<p>改动三:</p>
<p><code>[M] [U] [V]\r\r10086\rHost: [H]\r\nHost: wap.10086.cn\r\n</code></p>
<p>可以说每一次改动都极大地降低了跳点，这说明运营商并不是以检测首头的完整度来扣费的，所以，我们可以在此基础上结合模式①，来思考新的模式。</p>
<p>已知②的模式已经无法联网，所以我们可以这样:</p>
<p><code>[M] [U] [V]\rHost: wap.10086.cn\r\nHost:\r wap.10086.cn\r\nHost: [H]\r\n</code></p>
<p>还可以这样:</p>
<p><code>[M] [U] [V]\rHost: wap.10086.cn\r\nHost:\n wa. 10086.cn \nHost: [H]\r\nHost: wap.10086.cn\r\n</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/01/03/2017-01-03_jx-cm/" data-id="cjfipiyys000gd4unvvh16fh7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2016-10-01_wndr3800" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/01/2016-10-01_wndr3800/" class="article-date">
  <time datetime="2016-10-01T04:36:03.000Z" itemprop="datePublished">2016-10-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/01/2016-10-01_wndr3800/">网件WNDR3800 使用OpenWrt Chaos Calmer 15.05单线多拨教程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前段时间入手了一台洋垃圾wndr3800，参考OpenWrt Chaos Calmer 15.05使用mwan3单线多拨教程一文尝试单线多拨，但是根据上文教程中的步骤我总是无法成功添加虚拟网卡，故放弃这个方法。</p>
<p>随后我从淘宝卖家网盘中找到了“蝈蝈最新版2016”这个固件，刷了之后发现这个固件自带“虚拟WAN”和“负载均衡”这两个插件，经过简单设置后就多拨成功了，步骤如下：</p>
<p>1.Breed刷入蝈蝈最新版2016固件，刷入方法在此不表，如果不明白请自行搜索相关教程。</p>
<p>2.进入网络-接口，将Wan口协议修改为PPPoE，并填入你的上网账号密码。</p>
<p><img src="http://7u2oxr.com1.z0.glb.clouddn.com/1.png" alt="avatar"></p>
<p>3.浏览器输入192.168.1.1进入后台，进入网络-虚拟WAN选项卡，勾选启用，掉线检测，虚拟WAN接口数量和最低在线接口数量按照你的需求填写，不建议过多。设置完成后点击保存并应用，等待系统处理完。</p>
<p>==注：虚拟WAN接口数量指的是多拨次数==</p>
<p>最低在线接口数量指的是当掉线接口数量达到指定数量后自动重新连接<br><img src="http://7u2oxr.com1.z0.glb.clouddn.com/2.png" alt="avatar"></p>
<p>4.进入负载均衡查看多拨是否成功（绿色Online即为成功连接），如果有红色图标存在请等待一段时间，如果长时间都是红色，请回到第三步重试。如果你看到的是和下图一样都是绿色，那么恭喜你，多拨成功了~</p>
<p><img src="http://7u2oxr.com1.z0.glb.clouddn.com/3.png" alt="avatar"></p>
<p>6.检测网速是否叠加，你可以前往Speedtest.Net测试网速。如图，我办理的是20M的宽带，多拨后下载为94Mbps，上传为14.28Mbps，说明下载速度叠加了，但是上传没有叠加。</p>
<p><img src="http://7u2oxr.com1.z0.glb.clouddn.com/4.png" alt="avatar"></p>
<p>6.Enjoy it~</p>
<p>可能存在的问题：</p>
<p>1.多拨可能导致部分网页载入缓慢或者无法载入，具体解决办法我暂时不清楚</p>
<p>—2016/10/07 update—</p>
<p>临时的解决办法是使用明月永在提供的openwrt固件</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/10/01/2016-10-01_wndr3800/" data-id="cjfipiyyq000dd4unp005484y" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/04/03/Invalid da_-e4-b8-80-e4-b8-aa-e9-95-bf-e6-95-85-e4-ba-8b/">念七年</a>
          </li>
        
          <li>
            <a href="/2017/05/21/2017-05-21_usable-ml/">免流可用记录</a>
          </li>
        
          <li>
            <a href="/2017/04/17/2017-04-17_wordpress-to-ghost/">WordPress迁移至Ghost笔记</a>
          </li>
        
          <li>
            <a href="/2017/04/16/2017-04-16_kms-service/">KMS服务~一句命令激活windows/office</a>
          </li>
        
          <li>
            <a href="/2017/04/16/2017-04-16_operation-not-permitted/">Root用户删除文件提示：Operation not permitted</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 bigback<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>